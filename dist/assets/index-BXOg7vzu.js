(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const h='a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}:host *,:host :after,:host :before{box-sizing:border-box}:host .visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}:host .restart-button{--button-size:40px;--icon-size:1rem;align-items:center;background-color:var(--color-silver);border:none;border-bottom:4px solid var(--color-silver-border);border-radius:10px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;height:var(--button-size);justify-content:center;width:40px;width:var(--button-size)}:host .restart-button:hover{background-color:var(--color-silver-hover)}:host .restart-button img{height:var(--icon-size);width:var(--icon-size)}@media (min-width:768px){:host .restart-button{--button-size:52px}}:host .hidden{display:none!important}:host header{--component-width:96px;--component-height:40px;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:space-between;width:100%}:host header .img-wrapper{width:var(--component-width)}:host header.jc-center{justify-content:center}:host header.jc-center .img-wrapper{width:auto}:host header .turn-component{--icon-size:16px;--gap:9px;align-items:center;background-color:var(--color-semi-dark-navy);border-bottom:4px solid var(--color-semi-dark-navy-border);border-radius:5px;display:-webkit-box;display:-ms-flexbox;display:flex;gap:9px;gap:var(--gap);height:var(--component-height);justify-content:center;width:var(--component-width)}:host header .turn-component svg{height:var(--icon-size);width:var(--icon-size)}:host header .turn-component svg path{fill:var(--color-silver)}:host header .turn-component h1{color:var(--color-silver);font-family:var(--default-font-family);font-size:.875rem;font-variation-settings:"wght" var(--fw-bold);letter-spacing:.88px;text-transform:uppercase}:host header .btn-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:end;width:var(--component-width)}@media (min-width:768px){:host header{--component-width:140px;--component-height:52px}:host header .turn-component{--icon-size:20px;--gap:13px;border-radius:10px}:host header .turn-component h1{font-size:1rem;letter-spacing:1px}}',u="data:image/svg+xml,%3csvg%20width='72'%20height='32'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='none'%20fill-rule='evenodd'%3e%3cpath%20d='M8.562%201.634%2016%209.073l7.438-7.439a3%203%200%200%201%204.243%200l2.685%202.685a3%203%200%200%201%200%204.243L22.927%2016l7.439%207.438a3%203%200%200%201%200%204.243l-2.685%202.685a3%203%200%200%201-4.243%200L16%2022.927l-7.438%207.439a3%203%200%200%201-4.243%200L1.634%2027.68a3%203%200%200%201%200-4.243L9.073%2016%201.634%208.562a3%203%200%200%201%200-4.243L4.32%201.634a3%203%200%200%201%204.243%200Z'%20fill='%2331C3BD'/%3e%3cpath%20d='M56.1%200c8.765%200%2015.87%207.106%2015.87%2015.87%200%208.766-7.105%2015.871-15.87%2015.871-8.765%200-15.87-7.105-15.87-15.87C40.23%207.106%2047.334%200%2056.1%200Zm0%209.405a6.466%206.466%200%201%200%200%2012.931%206.466%206.466%200%200%200%200-12.931Z'%20fill='%23F2B137'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e",p="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.524%200h-1.88a.476.476%200%200%200-.476.499l.159%203.284A9.81%209.81%200%200%200%209.835.317C4.415.317-.004%204.743%200%2010.167.004%2015.597%204.406%2020%209.835%2020a9.796%209.796%200%200%200%206.59-2.536.476.476%200%200%200%20.019-.692l-1.348-1.349a.476.476%200%200%200-.65-.022%206.976%206.976%200%200%201-9.85-.63%206.987%206.987%200%200%201%20.63-9.857%206.976%206.976%200%200%201%2010.403%201.348l-4.027-.193a.476.476%200%200%200-.498.476v1.881c0%20.263.213.476.476.476h7.944A.476.476%200%200%200%2020%208.426V.476A.476.476%200%200%200%2019.524%200Z'%20fill='%231F3641'/%3e%3c/svg%3e";class c{constructor(e,r,o){this._gameBoard=e,this._activeMark=r,this._opponentMark=o,this.MODE={EASY:"easy",HARD:"hard",EXPERT:"expert"},this.difficulty=this.MODE.HARD,this.winningCombinations=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]}get gameBoard(){return this._gameBoard}set gameBoard(e){this._gameBoard=e}get activeMark(){return this._activeMark}get opponentMark(){return this._opponentMark}checkWinner(){let e=null,r=null;return this.winningCombinations.forEach((o,a)=>{const[i,n,l]=o;this.gameBoard[i]!==" "&&this.gameBoard[i]===this.gameBoard[n]&&this.gameBoard[i]===this.gameBoard[l]&&(e=this.gameBoard[i],r=this.winningCombinations[a])}),e?{winner:e,winningCombination:r}:null}checkTie(){return this.gameBoard.every(e=>e!==" ")}cpuRandomMove(e){return e[Math.floor(Math.random()*e.length)]}getWiningOrBlockingMove(e,r){const o=[...this.gameBoard];for(const a of e){if(this.gameBoard[a]=r,this.checkWinner())return a;this.gameBoard[a]=" "}return this.gameBoard=[...o],null}cpuHardMove(e){const r=this.getWiningOrBlockingMove(e,this.activeMark);if(r!==null)return r;const o=this.getWiningOrBlockingMove(e,this.opponentMark);return o!==null?o:null}getWinCombinationCount(e){let r=0;return this.winningCombinations.forEach(o=>{const[a,i,n]=o;[a,i,n].filter(d=>this.gameBoard[d]===e).length===2&&r++}),r}findFork(e,r){for(const o of e){this.gameBoard[o]=r;const a=this.getWinCombinationCount(r);if(this.gameBoard[o]=" ",a>=2)return o}return null}getForkMove(e){const r=this.findFork(e,this.opponentMark);if(r!==null)return r;const o=this.findFork(e,this.activeMark);return o!==null?o:null}cpuExpertMove(e){if(e.length===8&&this.gameBoard[4]===this.opponentMark)return this.cpuRandomMove([0,2,6,8]);if(e.length<=6){const o=this.cpuHardMove(e);if(o!==null)return o}if(this.gameBoard[4]===" ")return 4;const r=this.getForkMove(e);return r||null}findEmptyCell(){const e=this.gameBoard.reduce((r,o,a)=>(o===" "&&r.push(a),r),[]);if(this.difficulty==this.MODE.EXPERT){const r=this.cpuExpertMove(e);if(r!==null)return r}else if(this.difficulty==this.MODE.HARD){const r=this.cpuHardMove(e);if(r!==null)return r}return this.cpuRandomMove(e)}getCpuMove(){return this.findEmptyCell()}}class g{constructor(){this.PAGE={MENU:"menu",BOARD:"board"},this.RESULT={WIN:"win",TIE:"tie",NO_RESULT:"no-result"},this.VERSUS={CPU:"cpu",PLAYER:"player"},this.PLAYER={PLAYER1:"P1",PLAYER2:"P2",CPU:"CPU",YOU:"You"},this.MARK={X:"x",O:"o"},this._versus=this.VERSUS.PLAYER,this._player1=this.PLAYER.PLAYER1,this._player2=this.PLAYER.PLAYER2,this._player1Mark=this.MARK.X,this._player2Mark=this.MARK.O,this._player1Score=0,this._player2Score=0,this._ties=0,this._activeMark=this.MARK.X,this._activePlayer=this.PLAYER.PLAYER1,this._gameBoard=Array(9).fill(" "),this._winningCombination=[],this._winnerMark=null,this._gameStatus=this.RESULT.NO_RESULT,this._activePage=this.PAGE.BOARD,this._observers=[],this.init()}getFromLocalStorage(){return localStorage.getItem("store")?JSON.parse(localStorage.getItem("store")):{}}setToLocalStorage(e){localStorage.setItem("store",JSON.stringify(e))}init(){let e=this.getFromLocalStorage();this.versus=e.versus||this.VERSUS.PLAYER,this.player1=e.player1||this.PLAYER.PLAYER1,this.player2=e.player2||this.PLAYER.PLAYER2,this.player1Mark=e.player1Mark||this.MARK.X,this.player2Mark=e.player2Mark||this.MARK.O,this.player1Score=e.player1Score||0,this.player2Score=e.player2Score||0,this.ties=e.ties||0,this.activeMark=e.activeMark||this.MARK.X,this.activePlayer=e.activePlayer||this.PLAYER.PLAYER1,this.gameBoard=e.gameBoard||Array(9).fill(" "),this.winningCombination=e.winningCombination||[],this.winnerMark=e.winnerMark||null,this.gameStatus=e.gameStatus||this.RESULT.NO_RESULT,this.activePage=e.activePage||this.PAGE.BOARD,e={versus:this.versus,player1:this.player1,player2:this.player2,player1Mark:this.player1Mark,player2Mark:this.player2Mark,player1Score:this.player1Score,player2Score:this.player2Score,ties:this.ties,activeMark:this.activeMark,activePlayer:this.activePlayer,gameBoard:this.gameBoard,winningCombination:this.winningCombination,winnerMark:this.winnerMark,gameStatus:this.gameStatus,activePage:this.activePage},this.setToLocalStorage(e)}updateData(e){const r=this.getFromLocalStorage();Object.keys(e).forEach(o=>{r[o]=e[o]}),this.setToLocalStorage(r)}get activePage(){return this._activePage}set activePage(e){this._activePage=e}get gameBoard(){return this._gameBoard}set gameBoard(e){this._gameBoard=e}get winningCombination(){return this._winningCombination}set winningCombination(e){this._winningCombination=e}get winnerMark(){return this._winnerMark}set winnerMark(e){this._winnerMark=e}get gameStatus(){return this._gameStatus}set gameStatus(e){this._gameStatus=e}get versus(){return this._versus}set versus(e){this._versus=e}get player1(){return this._player1}set player1(e){this._player1=e}get player2(){return this._player2}set player2(e){this._player2=e}get activePlayer(){return this._activePlayer}set activePlayer(e){this._activePlayer=e}get player1Mark(){return this._player1Mark}set player1Mark(e){this._player1Mark=e}get player2Mark(){return this._player2Mark}set player2Mark(e){this._player2Mark=e}get player1Score(){return this._player1Score}set player1Score(e){this._player1Score=e}get player2Score(){return this._player2Score}set player2Score(e){this._player2Score=e}get ties(){return this._ties}set ties(e){this._ties=e}get activeMark(){return this._activeMark}set activeMark(e){this._activeMark=e}subscribe(e){this._observers.push(e)}unsubscribe(e){this._observers=this._observers.filter(r=>r!==e)}notify(e){this._observers.forEach(r=>{r.update&&r.update(e)})}showGameBoard(){this.activePage=this.PAGE.BOARD,this.updateData({activePage:this.activePage}),this._observers.forEach(e=>{e.renderGameBoard&&e.renderGameBoard()})}showMenu(){this.activePage=this.PAGE.MENU,this.updateData({activePage:this.activePage}),this._observers.forEach(e=>{e.renderMenu&&e.renderMenu()})}showGameStatus(){this._observers.forEach(e=>{e.showGameStatus&&e.showGameStatus()})}showRestartOptions(){this._observers.forEach(e=>{e.showRestartOptions&&e.showRestartOptions()})}setActivePlayer(){return new Promise((e,r)=>{try{return this.player1Mark===this.MARK.X?this._versus===this.VERSUS.CPU?this.activePlayer=this.PLAYER.YOU:this.activePlayer=this.PLAYER.PLAYER1:this._versus===this.VERSUS.CPU?this.activePlayer=this.PLAYER.CPU:this.activePlayer=this.PLAYER.PLAYER2,this.updateData({activePlayer:this.activePlayer}),e()}catch(o){r(o)}})}setPlayer(e){return new Promise((r,o)=>{try{this.versus=e,this.versus===this.VERSUS.CPU?(this.player1=this.PLAYER.YOU,this.player2=this.PLAYER.CPU):(this.player1=this.PLAYER.PLAYER1,this.player2=this.PLAYER.PLAYER2),this.updateData({versus:this.versus,player1:this.player1,player2:this.player2}),this.setActivePlayer().then(()=>r()).catch(a=>{throw a})}catch(a){o(a)}})}switchPlayerTurn(){this.activeMark=this.activeMark===this.MARK.X?this.MARK.O:this.MARK.X,this.versus===this.VERSUS.CPU?this.activePlayer=this.activePlayer===this.PLAYER.CPU?this.PLAYER.YOU:this.PLAYER.CPU:this.activePlayer=this.activePlayer===this.PLAYER.PLAYER1?this.PLAYER.PLAYER2:this.PLAYER.PLAYER1,this.updateData({activePlayer:this.activePlayer,activeMark:this.activeMark})}updateGameBoard(e){this.gameBoard[e]=this.activeMark,this.gameStatus=this.checkWinOrTie(),this.switchPlayerTurn(),this.gameStatus!==this.RESULT.NO_RESULT&&setTimeout(()=>{this.showGameStatus()},500),this.updateData({gameBoard:this.gameBoard,gameStatus:this.gameStatus}),this.notify(this.gameStatus)}checkWinOrTie(){const e=this.activeMark===this.MARK.X?this.MARK.O:this.MARK.X,r=new c(this.gameBoard,this.activeMark,e),o=r.checkWinner();return o?(o.winner===this.player1Mark?this.player1Score++:this.player2Score++,this.winningCombination=o.winningCombination,this.winnerMark=o.winner,this.updateData({player1Score:this.player1Score,player2Score:this.player2Score,winningCombination:this.winningCombination,winnerMark:this.winnerMark}),this.RESULT.WIN):r.checkTie()?(this.ties++,this.updateData({ties:this.ties}),this.RESULT.TIE):this.RESULT.NO_RESULT}resetGameBoard(){this.gameBoard=Array(9).fill(" "),this.winningCombination=[],this.gameStatus=this.RESULT.NO_RESULT,this.updateData({gameBoard:this.gameBoard,winningCombination:this.winningCombination,gameStatus:this.gameStatus})}resetScores(){this.player1Score=0,this.player2Score=0,this.ties=0,this.updateData({player1Score:this.player1Score,player2Score:this.player2Score,ties:this.ties})}resetPlayers(){this.player1=this.PLAYER.PLAYER1,this.player2=this.PLAYER.PLAYER2,this.player1Mark=this.MARK.X,this.player2Mark=this.MARK.O,this.versus=this.VERSUS.PLAYER,this.activeMark=this.MARK.X,this.activePlayer=this.PLAYER.PLAYER1,this.updateData({player1:this.player1,player2:this.player2,player1Mark:this.player1Mark,player2Mark:this.player2Mark,versus:this.versus,activeMark:this.activeMark,activePlayer:this.activePlayer})}restoreActivePlayer(){return new Promise((e,r)=>{try{this.setActivePlayer().then(()=>(this.activeMark=this.MARK.X,this.updateData({activeMark:this.activeMark}),e())).catch(o=>{throw o})}catch(o){r(o)}})}getCpuMove(){const e=this.activeMark===this.MARK.X?this.MARK.O:this.MARK.X;return new c(this.gameBoard,this.activeMark,e).getCpuMove()}focusRestartButton(){this._observers.forEach(e=>{e.focusRestartButton&&e.focusRestartButton()})}focusGrid(){this._observers.forEach(e=>{e.focusGrid&&e.focusGrid()})}focusMenu(){this._observers.forEach(e=>{e.focusMenu&&e.focusMenu()})}}const t=new g;class m extends HTMLElement{constructor(){super(),this.showLogo=!0,this.showTurn=this.getAttribute("showTurn")==="true",this.showRestartButton=this.getAttribute("showRestartButton")==="true",this.extraClass=this.getAttribute("extraClass")||"",t.subscribe(this)}connectedCallback(){this.shadow=this.attachShadow({mode:"open"}),this.render(),this.handleEvents(),this.updateTurnText()}disconnectedCallback(){t.unsubscribe(this)}update(){const e=this.shadow.querySelector(".turn-wrapper");e.innerHTML=this.renderTurn(),this.updateTurnText()}updateTurnText(){t.gameStatus===t.RESULT.NO_RESULT&&setTimeout(()=>{const e=this.shadow.querySelector("#turn-mark");e&&(e.textContent=`${t.activeMark}'s Turn`)},1)}focusRestartButton(){const e=this.shadow.querySelector(".restart-button");e&&e.focus()}renderLogo(){return`
      <div class="img-wrapper">
        <img src="${u}" alt="Tic tac toe game logo" width="72" height="32" />
      </div>
    `}renderTurn(){return`
      <section class="turn-component" aria-label="Player turn indicator" aria-live="polite" role="status">
        <svg
          width="64"
          height="64"
          viewBox="0 0 64 64"
          xmlns="http://www.w3.org/2000/svg"
          class="${t.activeMark===t.MARK.X?"":"hidden"}"
          aria-hidden="true"
          focusable="false"
        >
          <path
            d="M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0Z"
            fill="#31C3BD"
            fill-rule="evenodd"
          />
        </svg>
        <svg
          width="64"
          height="64"
          viewBox="0 0 64 64"
          xmlns="http://www.w3.org/2000/svg"
          class="${t.activeMark===t.MARK.O?"":"hidden"}"
          aria-hidden="true"
          focusable="false"
        >
          <path
            d="M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm0 18.963c-7.2 0-13.037 5.837-13.037 13.037 0 7.2 5.837 13.037 13.037 13.037 7.2 0 13.037-5.837 13.037-13.037 0-7.2-5.837-13.037-13.037-13.037Z"
            fill="#F2B137"
          />
        </svg>
        <h1 aria-hidden="true">Turn</h1>
        <span id="turn-mark" class="visually-hidden"></span>
      </section>
    `}renderRestartButton(){return`
      <div class="btn-wrapper">
        <button class="restart-button" aria-label="Restart" aria-haspopup="dialog" aria-expanded="false" aria-controls="app-modal">
          <img src="${p}" alt="Restart icon" />
        </button>
      </div>
    `}render(){this.shadow.innerHTML=`
      <style>${h}</style>
      <header class="${this.extraClass}">
        ${this.showLogo?`${this.renderLogo()}`:""}
        <div class="turn-wrapper">
          ${this.showTurn?`${this.renderTurn()}`:""}
        </div>
        ${this.showRestartButton?`${this.renderRestartButton()}`:""}
      </header>
    `}handleEvents(){const e=this.shadow.querySelector(".restart-button");e&&e.addEventListener("click",()=>{t.showRestartOptions()})}}const b='a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}:host *,:host :after,:host :before{box-sizing:border-box}:host .visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}:host button{color:var(--color-dark-navy);cursor:pointer}:host .button-1,:host .button-2{border:none;border-radius:15px;font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);height:56px;letter-spacing:1px;text-transform:uppercase;width:100%}@media (min-width:768px){:host .button-1,:host .button-2{font-family:var(--default-font-family);font-size:1.25rem;font-variation-settings:"wght" var(--fw-bold);height:67px;letter-spacing:1.25px}}:host .button-1{background-color:var(--color-light-yellow);border-bottom:8px solid var(--color-light-yellow-border)}:host .button-1:hover{background-color:var(--color-light-yellow-hover)}:host .button-2{background-color:var(--color-light-blue);border-bottom:8px solid var(--color-light-blue-border)}:host .button-2:hover{background-color:var(--color-light-blue-hover)}:host .secondary-button-1,:host .secondary-button-2{border:none;border-radius:10px;font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);height:52px;letter-spacing:1px;padding:0 1rem;text-transform:uppercase}:host .secondary-button-1{background-color:var(--color-light-yellow);border-bottom:4px solid var(--color-light-yellow-border)}:host .secondary-button-1:hover{background-color:var(--color-light-yellow-hover)}:host .secondary-button-2{background-color:var(--color-silver);border-bottom:4px solid var(--color-silver-border)}:host .secondary-button-2:hover{background-color:var(--color-silver-hover)}:host .restart-button{--button-size:40px;--icon-size:1rem;align-items:center;background-color:var(--color-silver);border:none;border-bottom:4px solid var(--color-silver-border);border-radius:10px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;height:var(--button-size);justify-content:center;width:40px;width:var(--button-size)}:host .restart-button:hover{background-color:var(--color-silver-hover)}:host .restart-button img{height:var(--icon-size);width:var(--icon-size)}@media (min-width:768px){:host .restart-button{--button-size:52px}}:host .menu-component{margin:95px auto 0;width:100%}:host .mark-select-component{--radio-width:50%;--radio-height:54px;--icon-size:32px;background-color:var(--color-semi-dark-navy);border-bottom:8px solid var(--color-semi-dark-navy-border);border-radius:15px;display:grid;margin:2rem 0;padding:1.5rem;width:100%;grid-gap:1rem;gap:1rem}:host .mark-select-component fieldset legend{font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);letter-spacing:1px;margin-bottom:1.5rem;text-align:center;text-transform:uppercase}:host .mark-select-component fieldset ul{background-color:var(--color-dark-navy);border-radius:10px;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;list-style:none;padding:.5rem}:host .mark-select-component fieldset ul li{display:block;height:var(--radio-height);position:relative;width:var(--radio-width)}:host .mark-select-component fieldset ul li svg{height:var(--icon-size);left:calc(50% - var(--icon-size)/2);position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}:host .mark-select-component fieldset ul li svg path{fill:var(--color-silver)}:host .mark-select-component fieldset ul li input[type=radio]{appearance:none;-webkit-appearance:none;-moz-appearance:none;height:100%;width:100%}:host .mark-select-component fieldset ul li input[type=radio]:checked{background-color:var(--color-silver);border-radius:10px;margin:0;padding:0}:host .mark-select-component fieldset ul li input[type=radio]:checked~svg path{fill:var(--color-semi-dark-navy)}:host .mark-select-component p{font-family:var(--default-font-family);font-size:.875rem;font-variation-settings:"wght" var(--fw-medium);letter-spacing:.8px;text-align:center;text-transform:uppercase}@media (min-width:768px){:host .mark-select-component{--radio-width:198px}}:host .button-block{display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;gap:1rem}:host .hidden{display:none!important}';class v extends HTMLElement{constructor(){super(),t.subscribe(this)}connectedCallback(){this.shadow=this.attachShadow({mode:"open"}),this.render(),this.handleEvents()}disconnectedCallback(){t.unsubscribe(this)}focusMenu(){const e=this.shadow.querySelector(".mark-select-component");e&&e.focus()}render(){this.shadow.innerHTML=`
      <style>${b}</style>
      <div class="menu-component">
        <header-component extraClass="jc-center"></header-component>
        <main>
          <section class="mark-select-component" aria-labelledby="pick-mark-note" tabindex='-1">
            <span id="pick-mark-note" class="visually-hidden">"Pick player 1's mark, Remember: X goes first"</span>
            <fieldset>
              <legend>Pick player 1's mark</legend>
              <ul>
                <li>
                  <label for="x-mark" aria-label="Mark X">
                    <input type="radio" name="mark" id="x-mark" value="${t.MARK.X}" checked />
                    <svg
                      width="64"
                      height="64"
                      viewBox="0 0 64 64"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0Z"
                        fill="#31C3BD"
                        fill-rule="evenodd"
                      />
                    </svg>
                  </label>
                </li>
                <li>
                  <label for="o-mark" aria-label="Mark O">
                    <input type="radio" name="mark" id="o-mark" value="${t.MARK.O}" />
                    <svg
                      width="64"
                      height="64"
                      viewBox="0 0 64 64"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm0 18.963c-7.2 0-13.037 5.837-13.037 13.037 0 7.2 5.837 13.037 13.037 13.037 7.2 0 13.037-5.837 13.037-13.037 0-7.2-5.837-13.037-13.037-13.037Z"
                        fill="#F2B137"
                      />
                    </svg>
                  </label>
                </li>
              </ul>
            </fieldset>
            <p>Remember: X goes first</p>
          </section>
          <div class="button-block">
            <button class="button-1" data-versus="cpu">New Game (vs CPU)</button>
            <button class="button-2" data-versus="player">New Game (vs player)</button>
          </div>
        </main>
      </div>
    `}handleEvents(){const e=this.shadow.querySelectorAll('input[type="radio"]');Array.from(e).forEach(o=>{o.addEventListener("change",a=>{e.forEach(i=>{i.removeAttribute("checked")}),a.currentTarget.setAttribute("checked",""),t.player1Mark=a.currentTarget.value,t.player2Mark=a.currentTarget.value===t.MARK.X?t.MARK.O:t.MARK.X})});const r=this.shadow.querySelectorAll("button");Array.from(r).forEach(o=>{o.addEventListener("click",a=>{t.setPlayer(a.currentTarget.dataset.versus).then(()=>{t.showGameBoard()})})})}}const f=`a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}:host *,:host :after,:host :before{box-sizing:border-box}:host .visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}:host button{color:var(--color-dark-navy);cursor:pointer}:host .button-1,:host .button-2{border:none;border-radius:15px;font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);height:56px;letter-spacing:1px;text-transform:uppercase;width:100%}@media (min-width:768px){:host .button-1,:host .button-2{font-family:var(--default-font-family);font-size:1.25rem;font-variation-settings:"wght" var(--fw-bold);height:67px;letter-spacing:1.25px}}:host .button-1{background-color:var(--color-light-yellow);border-bottom:8px solid var(--color-light-yellow-border)}:host .button-1:hover{background-color:var(--color-light-yellow-hover)}:host .button-2{background-color:var(--color-light-blue);border-bottom:8px solid var(--color-light-blue-border)}:host .button-2:hover{background-color:var(--color-light-blue-hover)}:host .secondary-button-1,:host .secondary-button-2{border:none;border-radius:10px;font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);height:52px;letter-spacing:1px;padding:0 1rem;text-transform:uppercase}:host .secondary-button-1{background-color:var(--color-light-yellow);border-bottom:4px solid var(--color-light-yellow-border)}:host .secondary-button-1:hover{background-color:var(--color-light-yellow-hover)}:host .secondary-button-2{background-color:var(--color-silver);border-bottom:4px solid var(--color-silver-border)}:host .secondary-button-2:hover{background-color:var(--color-silver-hover)}:host .restart-button{--button-size:40px;--icon-size:1rem;align-items:center;background-color:var(--color-silver);border:none;border-bottom:4px solid var(--color-silver-border);border-radius:10px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;height:var(--button-size);justify-content:center;width:40px;width:var(--button-size)}:host .restart-button:hover{background-color:var(--color-silver-hover)}:host .restart-button img{height:var(--icon-size);width:var(--icon-size)}@media (min-width:768px){:host .restart-button{--button-size:52px}}:host .game-board{margin:0 auto;width:100%}:host .grid{--cell-size:96px;--icon-size:40px;display:grid;grid-template-columns:repeat(3,auto);margin-top:64px;width:100%;grid-gap:1.5rem;gap:1.5rem;justify-content:center}:host .grid .grid-cell{background-color:var(--color-semi-dark-navy);border:none;border-bottom:8px solid var(--color-semi-dark-navy-border);border-radius:10px;height:var(--cell-size);width:var(--cell-size)}:host .grid .grid-cell.cell-occupied[data-activemark=x]{position:relative}:host .grid .grid-cell.cell-occupied[data-activemark=x]:before{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='%2331C3BD' fill-rule='evenodd' d='M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0'/%3E%3C/svg%3E") no-repeat 50% /contain;content:"";display:block;height:var(--icon-size);left:calc(50% - var(--icon-size)/2);position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}:host .grid .grid-cell.cell-occupied.winning-cell[data-activemark=x]{background-color:var(--color-light-blue);border-bottom:8px solid var(--color-light-blue-border)}:host .grid .grid-cell.cell-occupied.winning-cell[data-activemark=x]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='%231F3641' fill-rule='evenodd' d='M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0'/%3E%3C/svg%3E")}:host .grid .grid-cell.cell-occupied[data-activemark=o]{position:relative}:host .grid .grid-cell.cell-occupied[data-activemark=o]:before{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='%23F2B137' d='M32 0c17.673 0 32 14.327 32 32S49.673 64 32 64 0 49.673 0 32 14.327 0 32 0m0 18.963c-7.2 0-13.037 5.837-13.037 13.037S24.8 45.037 32 45.037 45.037 39.2 45.037 32 39.2 18.963 32 18.963'/%3E%3C/svg%3E") no-repeat 50% /contain;content:"";display:block;height:var(--icon-size);left:calc(50% - var(--icon-size)/2);position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}:host .grid .grid-cell.cell-occupied.winning-cell[data-activemark=o]{background-color:var(--color-light-yellow);border-bottom:8px solid var(--color-light-yellow-border)}:host .grid .grid-cell.cell-occupied.winning-cell[data-activemark=o]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='%231F3641' d='M32 0c17.673 0 32 14.327 32 32S49.673 64 32 64 0 49.673 0 32 14.327 0 32 0m0 18.963c-7.2 0-13.037 5.837-13.037 13.037S24.8 45.037 32 45.037 45.037 39.2 45.037 32 39.2 18.963 32 18.963'/%3E%3C/svg%3E")}:host .grid .grid-cell[data-activemark=x]:not(.cell-occupied):focus,:host .grid .grid-cell[data-activemark=x]:not(.cell-occupied):hover{position:relative}:host .grid .grid-cell[data-activemark=x]:not(.cell-occupied):focus:before,:host .grid .grid-cell[data-activemark=x]:not(.cell-occupied):hover:before{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='none' stroke='%2331C3BD' stroke-width='2' d='M51.12 1.269c.511 0 1.023.195 1.414.586l9.611 9.611c.391.391.586.903.586 1.415s-.195 1.023-.586 1.414L44.441 32l17.704 17.705c.391.39.586.902.586 1.414s-.195 1.024-.586 1.415l-9.611 9.611a2 2 0 0 1-1.415.586 2 2 0 0 1-1.414-.586L32 44.441 14.295 62.145a2 2 0 0 1-1.414.586 2 2 0 0 1-1.415-.586l-9.611-9.611a2 2 0 0 1-.586-1.415c0-.512.195-1.023.586-1.414L19.559 32 1.855 14.295a2 2 0 0 1-.586-1.414c0-.512.195-1.024.586-1.415l9.611-9.611c.391-.391.903-.586 1.415-.586s1.023.195 1.414.586L32 19.559 49.705 1.855a2 2 0 0 1 1.414-.586Z'/%3E%3C/svg%3E") no-repeat 50% /contain;content:"";display:block;height:var(--icon-size);left:calc(50% - var(--icon-size)/2);position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}:host .grid .grid-cell[data-activemark=o]:not(.cell-occupied):focus,:host .grid .grid-cell[data-activemark=o]:not(.cell-occupied):hover{position:relative}:host .grid .grid-cell[data-activemark=o]:not(.cell-occupied):focus:before,:host .grid .grid-cell[data-activemark=o]:not(.cell-occupied):hover:before{background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='66' height='66'%3E%3Cpath fill='none' stroke='%23F2B137' stroke-width='2' d='M33 1c17.673 0 32 14.327 32 32S50.673 65 33 65 1 50.673 1 33 15.327 1 33 1Zm0 18.963c-7.2 0-13.037 5.837-13.037 13.037S25.8 46.037 33 46.037 46.037 40.2 46.037 33 40.2 19.963 33 19.963Z'/%3E%3C/svg%3E") no-repeat 50% /contain;content:"";display:block;height:var(--icon-size);left:calc(50% - var(--icon-size)/2);position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}@media (min-width:768px){:host .grid{--cell-size:140px;--icon-size:64px}}`;class y extends HTMLElement{constructor(){super(),this.keyboardAccess=!1,t.subscribe(this)}connectedCallback(){this.shadow=this.attachShadow({mode:"open"}),this.render(),t.gameStatus!==t.RESULT.NO_RESULT&&setTimeout(()=>{t.showGameStatus()},500),this.handleEvents(),this.makeCpuMove()}disconnectedCallback(){t.unsubscribe(this)}update(){this.reRenderCells(),this.keyboardAccess&&this.focusGrid()}focusGrid(){const e=this.shadow.querySelector("button[data-index='0']");e&&t.activePlayer!==t.PLAYER.CPU&&e.focus()}reRenderCells(){const e=this.shadow.querySelector(".grid");e.innerHTML=this.renderCells(),this.handleEvents(),this.makeCpuMove()}renderCells(){return`
      ${t.gameBoard.map((e,r)=>`<button class="grid-cell ${e!==" "?"cell-occupied":""} ${t.winningCombination.includes(r)?"winning-cell":""}" data-activemark=${e===" "?t.activeMark:e} data-index="${r}" role="gridcell" aria-label="Cell ${r}" aria-describedby="${e===" "?"instructions":""}">
            <span id="cell-status-${r}" class="visually-hidden">
              ${e!==" "?"Cell "+r+", filled with mark "+e:"Cell "+r+", empty"}
            </span>
          </button>`).join("")}
    `}render(){this.shadow.innerHTML=`
      <style>${f}</style>
      <div class="game-board">
        <header-component showTurn="true" showRestartButton="true"></header-component> 
        <main>
          <section class="grid" aria-label="Tic tac toe grid" role="grid">
            ${this.renderCells()}
          </section>
          <span class="visually-hidden" id="instructions">Press Space or Enter to place your mark</span>
        </main>
        <footer-component></footer-component>
      </div>
    `}handleGridCellEvents(e){t.activePlayer!==t.PLAYER.CPU&&t.gameStatus===t.RESULT.NO_RESULT&&(e.classList.contains("cell-occupied")||(e.classList.add("cell-occupied"),t.updateGameBoard(Number(e.dataset.index))))}handleEvents(){const e=this.shadow.querySelectorAll(".grid-cell");Array.from(e).forEach(r=>{r.addEventListener("click",o=>{o.preventDefault(),this.keyboardAccess=!1,this.handleGridCellEvents(r)}),r.addEventListener("keydown",o=>{(o.key===" "||o.key==="Enter")&&(o.preventDefault(),this.keyboardAccess=!0,this.handleGridCellEvents(r))})})}makeCpuMove(){if(t.activePlayer===t.PLAYER.CPU){if(t.gameStatus!==t.RESULT.NO_RESULT)return;setTimeout(()=>{const e=t.getCpuMove(),r=this.shadow.querySelector(`button[data-index="${e}"]`);r&&(r.classList.add("cell-occupied"),t.updateGameBoard(e))},300)}}}const w='a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}:host *,:host :after,:host :before{box-sizing:border-box}:host .visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}:host footer{display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:space-between;margin-top:1.25rem}:host footer .score-component{--component-width:96px;--component-height:64px;align-items:center;border-radius:10px;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;height:64px;height:var(--component-height);justify-content:center;width:96px;width:var(--component-width)}:host footer .score-component.x-score{background-color:var(--color-light-blue)}:host footer .score-component.o-score{background-color:var(--color-light-yellow)}:host footer .score-component.tie-score{background-color:var(--color-silver)}:host footer .score-component h2{color:var(--color-dark-navy);font-family:var(--default-font-family);font-size:.75rem;font-variation-settings:"wght" var(--fw-medium);letter-spacing:.75px;line-height:1.25;text-transform:uppercase}:host footer .score-component p{color:var(--color-dark-navy);font-family:var(--default-font-family);font-size:1.25rem;font-variation-settings:"wght" var(--fw-bold);letter-spacing:1.25px;line-height:1.25;text-transform:uppercase}@media (min-width:768px){:host footer .score-component{--component-width:140px;--component-height:72px}:host footer .score-component h2{font-size:.875rem;letter-spacing:.88px}:host footer .score-component p{font-size:1.5rem;letter-spacing:1.5px}}';class k extends HTMLElement{constructor(){super(),t.subscribe(this),this.playerWithXMark=t.player1Mark===t.MARK.X?t.player1:t.player2,this.playerWithOMark=t.player1Mark===t.MARK.O?t.player1:t.player2,this.XMarkScore=t.player1Mark===t.MARK.X?t.player1Score:t.player2Score,this.OMarkScore=t.player1Mark===t.MARK.O?t.player1Score:t.player2Score}connectedCallback(){this.shadow=this.attachShadow({mode:"open"}),this.render()}disconnectedCallback(){t.unsubscribe(this)}update(e){(e===t.RESULT.WIN||e===t.RESULT.TIE)&&(this.XMarkScore=t.player1Mark===t.MARK.X?t.player1Score:t.player2Score,this.OMarkScore=t.player1Mark===t.MARK.O?t.player1Score:t.player2Score,this.render())}render(){this.shadow.innerHTML=`
      <style>${w}</style>
      <footer>
        <section class="score-component x-score" aria-labelledby="x-player" aria-describedby="x-score">
          <h2 id="x-player">X (${this.playerWithXMark})</h2>
          <p id="x-score"">${this.XMarkScore}</p>
        </section>
        <section class="score-component tie-score" aria-labelledby="tie-heading" aria-describedby="tie-score">
          <h2 id="tie-heading">Ties</h2>
          <p id="tie-score">${t.ties}</p>
        </section>
        <section class="score-component o-score" aria-labelledby="o-player" aria-describedby="o-score">
          <h2 id="o-player">O (${this.playerWithOMark})</h2>
          <p id="o-score">${this.OMarkScore}</p>
        </section>
      </footer>
    `}}const x=`a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{border:0;font-size:100%;font:inherit;margin:0;padding:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}:host *,:host :after,:host :before{box-sizing:border-box}:host .visually-hidden{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}:host button{color:var(--color-dark-navy);cursor:pointer}:host .button-1,:host .button-2{border:none;border-radius:15px;font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);height:56px;letter-spacing:1px;text-transform:uppercase;width:100%}@media (min-width:768px){:host .button-1,:host .button-2{font-family:var(--default-font-family);font-size:1.25rem;font-variation-settings:"wght" var(--fw-bold);height:67px;letter-spacing:1.25px}}:host .button-1{background-color:var(--color-light-yellow);border-bottom:8px solid var(--color-light-yellow-border)}:host .button-1:hover{background-color:var(--color-light-yellow-hover)}:host .button-2{background-color:var(--color-light-blue);border-bottom:8px solid var(--color-light-blue-border)}:host .button-2:hover{background-color:var(--color-light-blue-hover)}:host .secondary-button-1,:host .secondary-button-2{border:none;border-radius:10px;font-family:var(--default-font-family);font-size:1rem;font-variation-settings:"wght" var(--fw-bold);height:52px;letter-spacing:1px;padding:0 1rem;text-transform:uppercase}:host .secondary-button-1{background-color:var(--color-light-yellow);border-bottom:4px solid var(--color-light-yellow-border)}:host .secondary-button-1:hover{background-color:var(--color-light-yellow-hover)}:host .secondary-button-2{background-color:var(--color-silver);border-bottom:4px solid var(--color-silver-border)}:host .secondary-button-2:hover{background-color:var(--color-silver-hover)}:host .restart-button{--button-size:40px;--icon-size:1rem;align-items:center;background-color:var(--color-silver);border:none;border-bottom:4px solid var(--color-silver-border);border-radius:10px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:40px;height:var(--button-size);justify-content:center;width:40px;width:var(--button-size)}:host .restart-button:hover{background-color:var(--color-silver-hover)}:host .restart-button img{height:var(--icon-size);width:var(--icon-size)}@media (min-width:768px){:host .restart-button{--button-size:52px}}:host .modal{align-items:center;background-color:#00000050;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;left:0;position:fixed;top:0;width:100%}:host .modal #modal-content{align-items:center;background-color:var(--color-semi-dark-navy);display:-webkit-box;display:-ms-flexbox;display:flex;flex:1;flex-direction:column;padding:40px 0}:host .modal #modal-content p{color:var(--color-silver);font-family:var(--default-font-family);font-size:.875rem;font-variation-settings:"wght" var(--fw-medium);font-variation-settings:"wght" var(--fw-bold);letter-spacing:.8px;text-transform:uppercase}:host .modal #modal-content h2{font-family:var(--default-font-family);font-size:1.5rem;font-variation-settings:"wght" var(--fw-bold);letter-spacing:1.5px;margin-bottom:1.5rem;margin-top:1rem;text-transform:uppercase}:host .modal #modal-content h2[data-winnermark=x]{--icon-size:28px;color:var(--color-light-blue);padding-left:37px;padding-left:calc(var(--icon-size) + 9px);position:relative}:host .modal #modal-content h2[data-winnermark=x]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='%2331C3BD' fill-rule='evenodd' d='M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:contain;content:"";height:var(--icon-size);left:0;position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}:host .modal #modal-content h2[data-winnermark=o]{--icon-size:30px;color:var(--color-light-yellow);padding-left:39px;padding-left:calc(var(--icon-size) + 9px);position:relative}:host .modal #modal-content h2[data-winnermark=o]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Cpath fill='%23F2B137' d='M32 0c17.673 0 32 14.327 32 32S49.673 64 32 64 0 49.673 0 32 14.327 0 32 0m0 18.963c-7.2 0-13.037 5.837-13.037 13.037S24.8 45.037 32 45.037 45.037 39.2 45.037 32 39.2 18.963 32 18.963'/%3E%3C/svg%3E");background-repeat:no-repeat;background-size:contain;content:"";height:var(--icon-size);left:0;position:absolute;top:calc(50% - var(--icon-size)/2);width:var(--icon-size)}:host .modal #modal-content .button-block{display:-webkit-box;display:-ms-flexbox;display:flex;gap:1rem}`;class M extends HTMLElement{constructor(){super(),t.subscribe(this),this.gameStatusText=""}connectedCallback(){this.shadow=this.attachShadow({mode:"open"})}disconnectedCallback(){t.unsubscribe(this)}getGameStatus(){return t.gameStatus===t.RESULT.TIE?"":(t.versus===t.VERSUS.CPU?t.gameStatus===t.RESULT.WIN&&(this.gameStatusText=t.player1Mark===t.winnerMark?"You won!":"Oh no, you lost..."):this.gameStatusText=t.player1Mark===t.winnerMark?"Player 1 wins!":"Player 2 wins!",this.gameStatusText)}getRoundStatus(){return t.gameStatus===t.RESULT.TIE?(this.gameStatusText="Round tied",this.gameStatusText):`${t.winnerMark} Takes the round`}renderWinOrTieStatus(){const e=this.getGameStatus(),r=this.getRoundStatus();return`
      <span id="game-status" class="visually-hidden">${e} ${r}, ${t.player1} scored ${t.player1Score}, Ties ${t.ties}, ${t.player2} scored ${t.player2Score}</span>
      ${t.gameStatus===t.RESULT.WIN?`<p aria-hidden="true">${e}</p>`:""}
      ${t.gameStatus===t.RESULT.WIN?`<h2 aria-hidden="true" data-winnermark="${t.winnerMark}">Takes the round</h2>`:""}
      ${t.gameStatus===t.RESULT.TIE?`<h2 aria-hidden="true">${r}</h2>`:""}
      <div class="button-block">
        <button id="quit-btn" class="secondary-button-2">Quit</button>
        <button id="next-round-btn" class="secondary-button-1">Next round</button>
      </div>
    `}showGameStatus(){this.render(),this.shadow.querySelector("#app-modal").focus();const r=this.shadow.querySelector("#modal-content");r.innerHTML=this.renderWinOrTieStatus(),this.handleEvents()}renderRestartOptions(){return`
      <h2>Restart game?</h2>
      <div class="button-block">
        <button id="cancel-restart-btn" class="secondary-button-2">No, cancel</button>
        <button id="restart-btn" class="secondary-button-1">Yes, Restart</button>
      </div>
    `}showRestartOptions(){this.render(),this.shadow.querySelector("#app-modal").focus();const r=this.shadow.querySelector("#modal-content");r.innerHTML=this.renderRestartOptions(),this.handleEvents()}render(){this.shadow.innerHTML=`
      <style>
        ${x}
      </style>
      <section id="app-modal" class="modal" role="dialog" aria-modal="true" aria-label="Tic tac toe app modal" aria-describedby="game-status"  tabindex="-1">
        <div id="modal-content">
        </div>
      </section>
    `}setFocusTrap(){const e=this.shadow.querySelectorAll("button");Array.from(e).forEach(r=>{r.addEventListener("keydown",o=>{o.key==="Tab"&&(o.shiftKey?o.currentTarget===e[0]&&(o.preventDefault(),e[e.length-1].focus()):o.currentTarget===e[e.length-1]&&(o.preventDefault(),e[0].focus()))})})}handleRestartBtnEvents(e){t.resetGameBoard(),t.restoreActivePlayer().then(()=>{t.showGameBoard(),e==="keydown"&&setTimeout(()=>{t.focusRestartButton()},1)})}handleNextRoundBtnEvents(e){t.resetGameBoard(),t.restoreActivePlayer().then(()=>{t.showGameBoard(),e==="keydown"&&setTimeout(()=>{t.focusGrid()},1)})}handleQuitBtnEvents(e){t.showMenu(),t.resetGameBoard(),t.resetScores(),t.resetPlayers(),e==="keydown"&&setTimeout(()=>{t.focusMenu()},1)}handleEvents(){this.setFocusTrap();const e=this.shadow.querySelector("#quit-btn");e&&(e.addEventListener("click",i=>{this.handleQuitBtnEvents(i.type)}),e.addEventListener("keydown",i=>{(i.key===" "||i.key==="Enter")&&this.handleQuitBtnEvents(i.type)}));const r=this.shadow.querySelector("#next-round-btn");r&&(r.addEventListener("click",i=>{this.handleNextRoundBtnEvents(i.type)}),r.addEventListener("keydown",i=>{(i.key===" "||i.key==="Enter")&&this.handleNextRoundBtnEvents(i.type)}));const o=this.shadow.querySelector("#cancel-restart-btn");o&&o.addEventListener("click",()=>{this.shadow.innerHTML="",t.focusRestartButton()});const a=this.shadow.querySelector("#restart-btn");a&&(a.addEventListener("click",i=>{this.handleRestartBtnEvents(i.type)}),a.addEventListener("keydown",i=>{(i.key===" "||i.key==="Enter")&&this.handleRestartBtnEvents(i.type)}))}}class E extends HTMLElement{constructor(){super(),t.subscribe(this)}connectedCallback(){this.shadow=this.attachShadow({mode:"open"}),this.render()}disconnectedCallback(){t.unsubscribe(this)}renderMenu(){this.clearContent(),setTimeout(()=>{this.shadow.innerHTML=`
      <menu-component></menu-component>
      <modal-component></modal-component>
      `})}renderGameBoard(){this.clearContent(),setTimeout(()=>{this.shadow.innerHTML=`
      <game-board></game-board>
      <modal-component></modal-component>
    `},1)}render(){if(t.activePage===t.PAGE.MENU){this.renderMenu();return}this.renderGameBoard()}clearContent(){this.shadow.innerHTML=""}}customElements.define("tic-tac-toe-app",E);customElements.define("header-component",m);customElements.define("menu-component",v);customElements.define("game-board",y);customElements.define("footer-component",k);customElements.define("modal-component",M);
